<main>
  <div class="container">
    <div class="page-title">
      <div class="estrelas right">
        <div data-bind="foreach: mediaEstrelas" class="">
          <i data-bind="css: { 'grey-text' : isGrey }" class="material-icons">star</i>
        </div>
        <a data-bind="attr: { href: '#profissionais/qualificacoes/'+profissional() }" class="link-estrelas">(ver qualificações)</a>
      </div>
      <h2>Agenda</h2>
      <hr>
    </div>

    <div class="agenda row">
      <div class="profissional-info">
        <h3 data-bind="text: nome" class="profissional-nome"></h3>
        <p data-bind="text: ramo" class="profissional-ramo"></p>
        <p data-bind="text: endereco" class="profissional-endereco info-secondary"></p>
        <p class="profissional-telefone info-secondary"><span data-bind="text: telefone" class="cellphones"></span> | <span data-bind="text: celular" class="cellphones"></p>
      </div>
      <div class="date row">
        <form action="" class="col s12 m6">
          <div class="input-field col s12 m8 search-field">
            <input data-bind="value: data" type="date" placeholder="Escolha uma Data" class="datepicker" id="date">
            <label for="date">Data</label>
          </div>
        </form>
        <div class="agenda-action col s12 m6 right">
          <a data-bind="click: agendar" class="modal-trigger btn orange">Agendar Serviço</a>
        </div>
      </div>

      <div class="col s12 services-available">
        <div class="col s12 m6">
          <div class="card card-servicos">
            <div class="card-content">
              <span class="card-title">Serviços</span>
              <h5 data-bind="visible: hasServicoResult" class="col s12 center-align grey-text">Ops! O profissional não presta nenhum serviço.</h5>
              <div class="services">
                <ul data-bind="foreach: detalheServicos" class="collection">
                  <li class="collection-item">
                    <span data-bind="text: text" class="service-name"></span>
                    <span data-bind="text: 'R$ ' + valor + ' | ' + duracao + ' minutos'" class="service-price right"></span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="col s12 m6">
          <div class="card card-agenda">
            <div class="card-content">
              <span class="card-title">Horários <span class="color-legenda right"><span></span> horário indisponível</span></span>
              <h5 data-bind="visible: hasHorarioResult" class="col s12 center-align grey-text">Ops! O profissional não trabalha neste dia.</h5>
              <ul class="collection schedule-list">
                <!-- ko foreach: $data.horasTrabalho -->
                  <li data-bind="style: { height: height+'px' }" class="collection-item">
                    <span data-bind="text: hora " class="hour"></span>
                  </li>
                <!-- /ko -->

                <!-- ko foreach: $data.agendamentos -->
                  <span data-bind="style: { top: top+'px', height: height+'px' }" class="unvailable">
                    <p data-bind="text: horario" class="desc-horario-agendamento"></p>
                  </span>
                <!-- /ko -->
              </ul>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</main>
<div data-bind="component: { name: 'agendamento-modal-component' }"></div>
